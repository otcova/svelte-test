var X=Object.defineProperty;var Y=(i,e,s)=>e in i?X(i,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[e]=s;var p=(i,e,s)=>(Y(i,typeof e!="symbol"?e+"":e,s),s);import{I as j,S as k,i as I,s as P,k as E,l as q,m as W,h as u,n as M,p as h,J as d,b as y,K as z,o as b,L as G,d as F,f as m,t as g,e as w,w as V,a as O,x as H,c as Q,y as J,g as K,z as N,M as U}from"../../chunks/index-c02e20f0.js";function R(i,{delay:e=0,duration:s=400,easing:t=j}={}){const n=+getComputedStyle(i).opacity;return{delay:e,duration:s,easing:t,css:l=>`opacity: ${l*n}`}}function Z(i){let e,s,t;return{c(){e=E("div"),this.h()},l(n){e=q(n,"DIV",{class:!0,style:!0}),W(e).forEach(u),this.h()},h(){M(e,"class","line svelte-z9gsf"),h(e,"--len",i[3]+"px"),h(e,"--x",i[0].x+"px"),h(e,"--y",i[0].y+"px"),h(e,"--a",i[2]+"rad"),d(e,"show",i[1])},m(n,l){y(n,e,l),t=!0},p(n,[l]){(!t||l&1)&&h(e,"--x",n[0].x+"px"),(!t||l&1)&&h(e,"--y",n[0].y+"px"),(!t||l&2)&&d(e,"show",n[1])},i(n){t||(s&&s.end(1),t=!0)},o(n){s=z(e,R,{}),t=!1},d(n){n&&u(e),n&&s&&s.end()}}}function C(i,e,s){let{pos:t}=e,{parent:n}=e,l=Math.atan2(t.y-n.y,t.x-n.x),c=Math.sqrt((t.y-n.y)**2+(t.x-n.x)**2),r=!1;return b(()=>requestAnimationFrame(()=>setTimeout(()=>s(1,r=!0),100))),i.$$set=o=>{"pos"in o&&s(4,t=o.pos),"parent"in o&&s(0,n=o.parent)},[n,r,l,c,t]}class A extends k{constructor(e){super(),I(this,e,C,Z,P,{pos:4,parent:0})}}function B(i,e,s,t){const n=e.x-i.x,l=e.y-i.y,c=t.x-s.x,r=t.y-s.y,o=(-l*(i.x-s.x)+n*(i.y-s.y))/(-c*l+n*r),a=(c*(i.y-s.y)-r*(i.x-s.x))/(-c*l+n*r),f=.001;return f<o&&o<1-f&&f<a&&a<1-f}function L(i,e,s,t){var n;const l=t.x-s.x,c=t.y-s.y,r=i.x-s.x,o=i.y-s.y,a=(r*l+o*c)/(c*c+l*l);return a>=0&&a<=1?n=(s.x+l*a-i.x)**2+(s.y+c*a-i.y)**2:n=a<0?(s.x-i.x)**2+(s.y-i.y)**2:(t.x-i.x)**2+(t.y-i.y)**2,n<e**2}class x{constructor(e,s){p(this,"pos");p(this,"parent");p(this,"children",[]);p(this,"fill",!1);p(this,"onResize");p(this,"spawnTries",0);if(e instanceof x){this.parent=e;const t=110-Math.random()*60,n=$(s??Math.random()*Math.PI*2);this.pos={x:e.pos.x+t*Math.cos(n),y:e.pos.y+t*Math.sin(n)}}else this.pos=e}collideWithNode(e){return e.parent&&L(this.pos,30,e.pos,e.parent.pos)?!0:e==this.parent?!1:!!((e.pos.x-this.pos.x)**2+(e.pos.y-this.pos.y)**2<30**2||this.parent&&L(e.pos,30,this.pos,this.parent.pos)||e.parent&&this.parent&&B(this.pos,this.parent.pos,e.pos,e.parent.pos))}collideWithScreen(){return this.pos.x<-20||this.pos.y<-20||this.pos.x>innerWidth- -20||this.pos.y>innerHeight- -20}validPosition(e){if(this.collideWithScreen())return!1;for(const s of e)if(this.collideWithNode(s))return!1;return!0}createChildren(e,s){for(;s-- >0;){const t=new x(this);t.validPosition(e)&&(e.push(t),this.children.push(t))}if(this.children.length==0){const t=new x(this,Math.random()*Math.PI/2);t.validPosition(e)&&(e.push(t),this.children.push(t))}this.children.length==3&&(this.fill=Math.random()<.9),this.children.length>0&&this.fill&&(this.children[Math.floor(Math.random()*this.children.length)].fill=!0)}remove_children_edges(){for(const e of this.children)e.parent=void 0}}function $(i){const e=Math.PI*2;i=(i%e+e)%e;const s=8;return e*Math.round(s*i/e)/s}function ee(i){let e,s,t;return{c(){e=E("div"),this.h()},l(n){e=q(n,"DIV",{class:!0,style:!0}),W(e).forEach(u),this.h()},h(){M(e,"class","node svelte-ea66qh"),h(e,"--x",i[0].x+"px"),h(e,"--y",i[0].y+"px"),h(e,"--x0",i[3].x+"px"),h(e,"--y0",i[3].y+"px"),d(e,"fill",i[1]),d(e,"show",i[2])},m(n,l){y(n,e,l),t=!0},p(n,[l]){(!t||l&1)&&h(e,"--x",n[0].x+"px"),(!t||l&1)&&h(e,"--y",n[0].y+"px"),(!t||l&2)&&d(e,"fill",n[1]),(!t||l&4)&&d(e,"show",n[2])},i(n){t||(s&&s.end(1),t=!0)},o(n){s=z(e,R,{}),t=!1},d(n){n&&u(e),n&&s&&s.end()}}}function te(i,e,s){let{pos:t}=e,{parent:n}=e,{fill:l=!1}=e,c=n??t,r=!1;return b(()=>{requestAnimationFrame(()=>requestAnimationFrame(()=>s(2,r=!0)))}),i.$$set=o=>{"pos"in o&&s(0,t=o.pos),"parent"in o&&s(4,n=o.parent),"fill"in o&&s(1,l=o.fill)},[t,l,r,c,n]}class se extends k{constructor(e){super(),I(this,e,te,ee,P,{pos:0,parent:4,fill:1})}}function S(i,e,s){const t=i.slice();return t[5]=e[s],t}function D(i){let e,s;return e=new A({props:{pos:i[5].pos,parent:i[5].parent.pos}}),{c(){V(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){J(e,t,n),s=!0},p(t,n){const l={};n&1&&(l.pos=t[5].pos),n&1&&(l.parent=t[5].parent.pos),e.$set(l)},i(t){s||(m(e.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),s=!1},d(t){N(e,t)}}}function T(i,e){var o;let s,t,n,l,c;t=new se({props:{pos:e[5].pos,parent:(o=e[5].parent)==null?void 0:o.pos,fill:e[5].fill}});let r=e[5].parent&&D(e);return{key:i,first:null,c(){s=w(),V(t.$$.fragment),n=O(),r&&r.c(),l=w(),this.h()},l(a){s=w(),H(t.$$.fragment,a),n=Q(a),r&&r.l(a),l=w(),this.h()},h(){this.first=s},m(a,f){y(a,s,f),J(t,a,f),y(a,n,f),r&&r.m(a,f),y(a,l,f),c=!0},p(a,f){var v;e=a;const _={};f&1&&(_.pos=e[5].pos),f&1&&(_.parent=(v=e[5].parent)==null?void 0:v.pos),f&1&&(_.fill=e[5].fill),t.$set(_),e[5].parent?r?(r.p(e,f),f&1&&m(r,1)):(r=D(e),r.c(),m(r,1),r.m(l.parentNode,l)):r&&(K(),g(r,1,1,()=>{r=null}),F())},i(a){c||(m(t.$$.fragment,a),m(r),c=!0)},o(a){g(t.$$.fragment,a),g(r),c=!1},d(a){a&&u(s),N(t,a),a&&u(n),r&&r.d(a),a&&u(l)}}}function ne(i){let e,s=[],t=new Map,n,l=i[0];const c=r=>r[5];for(let r=0;r<l.length;r+=1){let o=S(i,l,r),a=c(o);t.set(a,s[r]=T(a,o))}return{c(){e=E("div");for(let r=0;r<s.length;r+=1)s[r].c();this.h()},l(r){e=q(r,"DIV",{id:!0,class:!0});var o=W(e);for(let a=0;a<s.length;a+=1)s[a].l(o);o.forEach(u),this.h()},h(){M(e,"id","container"),M(e,"class","svelte-4l6f4e")},m(r,o){y(r,e,o);for(let a=0;a<s.length;a+=1)s[a].m(e,null);n=!0},p(r,[o]){o&1&&(l=r[0],K(),s=G(s,o,c,1,r,l,t,e,U,T,null,S),F())},i(r){if(!n){for(let o=0;o<l.length;o+=1)m(s[o]);n=!0}},o(r){for(let o=0;o<s.length;o+=1)g(s[o]);n=!1},d(r){r&&u(e);for(let o=0;o<s.length;o+=1)s[o].d()}}}function ie(i,e,s){let t=[],n=0,l={x:0,y:0},c=!1;b(()=>{s(0,t=[new x({x:innerWidth/2,y:innerHeight/2})]),setTimeout(r,200),addEventListener("mousemove",o=>{l.x=o.clientX,l.y=o.clientY}),addEventListener("mousedown",()=>c=!0),addEventListener("mouseup",()=>c=!1)});function r(){const o=t.length;for(;n<o;)t[n++].createChildren(t,3);let a=t.length!=o;if(c)for(let f=0;f<t.length;++f){const _=t[f].pos.x-l.x,v=t[f].pos.y-l.y;_**2+v**2<120**2&&(a=!0,t[f].remove_children_edges(),t.splice(f,1),n>f&&--n,--f)}a&&s(0,t),setTimeout(r,300)}return[t]}class oe extends k{constructor(e){super(),I(this,e,ie,ne,P,{})}}export{oe as default};
