import{S as E,i as V,s as z,k as M,a as O,l as w,m as $,h as x,c as P,n as v,p as _,I,b as h,J as b,K as q,B as j,f as g,d as F,t as k,L as H,o as J,M as K,w as W,x as G,y as Q,N as R,O as T,z as U,g as X}from"../../chunks/index-c89e5077.js";function Y(s,n,r,o){const t=n.x-s.x,i=n.y-s.y,e=o.x-r.x,a=o.y-r.y,l=(-i*(s.x-r.x)+t*(s.y-r.y))/(-e*i+t*a),c=(e*(s.y-r.y)-a*(s.x-r.x))/(-e*i+t*a),f=.001;return f<l&&l<1-f&&f<c&&c<1-f?{x:s.x+c*t,y:s.y+c*i}:!1}function N(s,n,r,o){var t;const i=o.x-r.x,e=o.y-r.y,a=s.x-r.x,l=s.y-r.y,c=(a*i+l*e)/(e*e+i*i);return c>=0&&c<=1?t=(r.x+i*c-s.x)**2+(r.y+e*c-s.y)**2:t=c<0?(r.x-s.x)**2+(r.y-s.y)**2:(o.x-s.x)**2+(o.y-s.y)**2,t<n**2}function L(s){const n=s-1;return n*n*n+1}function Z(s,{delay:n=0,duration:r=400,easing:o=L,x:t=0,y:i=0,opacity:e=0}={}){const a=getComputedStyle(s),l=+a.opacity,c=a.transform==="none"?"":a.transform,f=l*(1-e);return{delay:n,duration:r,easing:o,css:(y,u)=>`
			transform: ${c} translate(${(1-y)*t}px, ${(1-y)*i}px);
			opacity: ${l-f*u}`}}function B(s,{delay:n=0,duration:r=400,easing:o=L,start:t=0,opacity:i=0}={}){const e=getComputedStyle(s),a=+e.opacity,l=e.transform==="none"?"":e.transform,c=1-t,f=a*(1-i);return{delay:n,duration:r,easing:o,css:(y,u)=>`
			transform: ${l} scale(${1-c*u});
			opacity: ${a-f*u}
		`}}function C(s){let n,r,o,t,i;return{c(){n=M("div"),o=O(),t=M("div"),this.h()},l(e){n=w(e,"DIV",{class:!0,style:!0}),$(n).forEach(x),o=P(e),t=w(e,"DIV",{class:!0,style:!0}),$(t).forEach(x),this.h()},h(){v(n,"class","line svelte-1a8mvag"),_(n,"--h","1px"),_(n,"--len",s[3]+"px"),_(n,"--x",s[0].x+"px"),_(n,"--y",s[0].y+"px"),_(n,"--a",s[2]+"rad"),v(t,"class","node svelte-1a8mvag"),_(t,"--x",s[0].x+"px"),_(t,"--y",s[0].y+"px"),I(t,"small",s[1])},m(e,a){h(e,n,a),h(e,o,a),h(e,t,a)},p(e,[a]){s=e,a&1&&_(n,"--x",s[0].x+"px"),a&1&&_(n,"--y",s[0].y+"px"),a&1&&_(t,"--x",s[0].x+"px"),a&1&&_(t,"--y",s[0].y+"px"),a&2&&I(t,"small",s[1])},i(e){r||b(()=>{r=q(n,B,{duration:1e3,delay:200}),r.start()}),i||b(()=>{i=q(t,Z,{x:-s[4].x,y:-s[4].y,duration:1e3,delay:0}),i.start()})},o:j,d(e){e&&x(n),e&&x(o),e&&x(t)}}}function A(s,n,r){let{pos:o}=n,{parent:t}=n,{small:i=!1}=n,e=Math.atan2(t.y-o.y,t.x-o.x),a=Math.sqrt((o.y-t.y)**2+(o.x-t.x)**2),l={x:o.x-t.x,y:o.y-t.y};return s.$$set=c=>{"pos"in c&&r(0,o=c.pos),"parent"in c&&r(5,t=c.parent),"small"in c&&r(1,i=c.small)},[o,i,e,a,l,t]}class tt extends E{constructor(n){super(),V(this,n,A,C,z,{pos:0,parent:5,small:1})}}function S(s,n,r){const o=s.slice();return o[5]=n[r],o}function D(s){let n,r;const o=[s[5]];let t={};for(let i=0;i<o.length;i+=1)t=K(t,o[i]);return n=new tt({props:t}),{c(){W(n.$$.fragment)},l(i){G(n.$$.fragment,i)},m(i,e){Q(n,i,e),r=!0},p(i,e){const a=e&1?R(o,[T(i[5])]):{};n.$set(a)},i(i){r||(g(n.$$.fragment,i),r=!0)},o(i){k(n.$$.fragment,i),r=!1},d(i){U(n,i)}}}function et(s){let n,r,o=s[0],t=[];for(let e=0;e<o.length;e+=1)t[e]=D(S(s,o,e));const i=e=>k(t[e],1,1,()=>{t[e]=null});return{c(){n=M("div");for(let e=0;e<t.length;e+=1)t[e].c();this.h()},l(e){n=w(e,"DIV",{id:!0,class:!0});var a=$(n);for(let l=0;l<t.length;l+=1)t[l].l(a);a.forEach(x),this.h()},h(){v(n,"id","container"),v(n,"class","svelte-4u9n2z")},m(e,a){h(e,n,a);for(let l=0;l<t.length;l+=1)t[l].m(n,null);r=!0},p(e,[a]){if(a&1){o=e[0];let l;for(l=0;l<o.length;l+=1){const c=S(e,o,l);t[l]?(t[l].p(c,a),g(t[l],1)):(t[l]=D(c),t[l].c(),g(t[l],1),t[l].m(n,null))}for(X(),l=o.length;l<t.length;l+=1)i(l);F()}},i(e){if(!r){for(let a=0;a<o.length;a+=1)g(t[a]);r=!0}},o(e){t=t.filter(Boolean);for(let a=0;a<t.length;a+=1)k(t[a]);r=!1},d(e){e&&x(n),H(t,e)}}}const p=60;function nt(s,n,r){let o=[{pos:{x:p,y:p},parent:{x:p,y:p}}];J(()=>i());let t=null;function i(){const c=performance.now();t??(t=c-100);let f=Math.min(100,(c-t)/30);for(let y=f-o.length;y>0;--y)a();f<100&&requestAnimationFrame(i)}let e=0;function a(){for(;e<o.length;){const l=o[e];t:for(let c=0;c<10;++c){const f=Math.random()*2*Math.PI,y=200-Math.random()*100,u=l.pos.x+Math.cos(f)*y,d=l.pos.y+Math.sin(f)*y;if(u<p||d<p||u>innerWidth-p||d>innerHeight-p)continue t;for(const m of o)if((m.pos.x-u)**2+(m.pos.y-d)**2<p**2||N({x:u,y:d},p,m.pos,m.parent)||Y({x:u,y:d},l.pos,m.pos,m.parent)||m!=l&&N(m.pos,p,{x:u,y:d},l.pos))continue t;r(0,o=[...o,{pos:{x:u,y:d},parent:l.pos}]);return}++e}}return[o]}class ot extends E{constructor(n){super(),V(this,n,nt,et,z,{})}}export{ot as default};
