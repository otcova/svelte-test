import{S as E,i as V,s as q,k as v,a as O,l as M,m as k,h,c as P,n as g,p as _,I,b as x,J as N,K as b,B as j,f as m,d as H,t as $,L as J,o as K,M as L,w as T,x as W,y as F,N as G,O as Q,z as R,g as U}from"../../chunks/index-c89e5077.js";function X(s,n,r,o){const e=n.x-s.x,a=n.y-s.y,t=o.x-r.x,l=o.y-r.y,i=(-a*(s.x-r.x)+e*(s.y-r.y))/(-t*a+e*l),c=(t*(s.y-r.y)-l*(s.x-r.x))/(-t*a+e*l),f=.001;return f<i&&i<1-f&&f<c&&c<1-f?{x:s.x+c*e,y:s.y+c*a}:!1}function S(s,n,r,o){var e;const a=o.x-r.x,t=o.y-r.y,l=s.x-r.x,i=s.y-r.y,c=(l*a+i*t)/(t*t+a*a);return c>=0&&c<=1?e=(r.x+a*c-s.x)**2+(r.y+t*c-s.y)**2:e=c<0?(r.x-s.x)**2+(r.y-s.y)**2:(o.x-s.x)**2+(o.y-s.y)**2,e<n**2}function z(s){const n=s-1;return n*n*n+1}function Y(s,{delay:n=0,duration:r=400,easing:o=z,x:e=0,y:a=0,opacity:t=0}={}){const l=getComputedStyle(s),i=+l.opacity,c=l.transform==="none"?"":l.transform,f=i*(1-t);return{delay:n,duration:r,easing:o,css:(u,p)=>`
			transform: ${c} translate(${(1-u)*e}px, ${(1-u)*a}px);
			opacity: ${i-f*p}`}}function Z(s,{delay:n=0,duration:r=400,easing:o=z,start:e=0,opacity:a=0}={}){const t=getComputedStyle(s),l=+t.opacity,i=t.transform==="none"?"":t.transform,c=1-e,f=l*(1-a);return{delay:n,duration:r,easing:o,css:(u,p)=>`
			transform: ${i} scale(${1-c*p});
			opacity: ${l-f*p}
		`}}function B(s){let n,r,o,e,a;return{c(){n=v("div"),o=O(),e=v("div"),this.h()},l(t){n=M(t,"DIV",{class:!0,style:!0}),k(n).forEach(h),o=P(t),e=M(t,"DIV",{class:!0,style:!0}),k(e).forEach(h),this.h()},h(){g(n,"class","line svelte-1n3k5d5"),_(n,"--len",s[3]+"px"),_(n,"--x",s[0].x+"px"),_(n,"--y",s[0].y+"px"),_(n,"--a",s[2]+"rad"),g(e,"class","node svelte-1n3k5d5"),_(e,"--x",s[0].x+"px"),_(e,"--y",s[0].y+"px"),I(e,"fill",s[1])},m(t,l){x(t,n,l),x(t,o,l),x(t,e,l)},p(t,[l]){s=t,l&1&&_(n,"--x",s[0].x+"px"),l&1&&_(n,"--y",s[0].y+"px"),l&1&&_(e,"--x",s[0].x+"px"),l&1&&_(e,"--y",s[0].y+"px"),l&2&&I(e,"fill",s[1])},i(t){r||N(()=>{r=b(n,Z,{duration:1e3,delay:200}),r.start()}),a||N(()=>{a=b(e,Y,{x:-s[4].x,y:-s[4].y,duration:1e3,delay:0}),a.start()})},o:j,d(t){t&&h(n),t&&h(o),t&&h(e)}}}function C(s,n,r){let{pos:o}=n,{parent:e}=n,{fill:a=!1}=n,t=Math.atan2(e.y-o.y,e.x-o.x),l=Math.sqrt((o.y-e.y)**2+(o.x-e.x)**2),i={x:o.x-e.x,y:o.y-e.y};return s.$$set=c=>{"pos"in c&&r(0,o=c.pos),"parent"in c&&r(5,e=c.parent),"fill"in c&&r(1,a=c.fill)},[o,a,t,l,i,e]}class A extends E{constructor(n){super(),V(this,n,C,B,q,{pos:0,parent:5,fill:1})}}function w(s,n,r){const o=s.slice();return o[3]=n[r],o}function D(s){let n,r;const o=[s[3]];let e={};for(let a=0;a<o.length;a+=1)e=L(e,o[a]);return n=new A({props:e}),{c(){T(n.$$.fragment)},l(a){W(n.$$.fragment,a)},m(a,t){F(n,a,t),r=!0},p(a,t){const l=t&1?G(o,[Q(a[3])]):{};n.$set(l)},i(a){r||(m(n.$$.fragment,a),r=!0)},o(a){$(n.$$.fragment,a),r=!1},d(a){R(n,a)}}}function tt(s){let n,r,o=s[0],e=[];for(let t=0;t<o.length;t+=1)e[t]=D(w(s,o,t));const a=t=>$(e[t],1,1,()=>{e[t]=null});return{c(){n=v("div");for(let t=0;t<e.length;t+=1)e[t].c();this.h()},l(t){n=M(t,"DIV",{id:!0,class:!0});var l=k(n);for(let i=0;i<e.length;i+=1)e[i].l(l);l.forEach(h),this.h()},h(){g(n,"id","container"),g(n,"class","svelte-4u9n2z")},m(t,l){x(t,n,l);for(let i=0;i<e.length;i+=1)e[i].m(n,null);r=!0},p(t,[l]){if(l&1){o=t[0];let i;for(i=0;i<o.length;i+=1){const c=w(t,o,i);e[i]?(e[i].p(c,l),m(e[i],1)):(e[i]=D(c),e[i].c(),m(e[i],1),e[i].m(n,null))}for(U(),i=o.length;i<e.length;i+=1)a(i);H()}},i(t){if(!r){for(let l=0;l<o.length;l+=1)m(e[l]);r=!0}},o(t){e=e.filter(Boolean);for(let l=0;l<e.length;l+=1)$(e[l]);r=!1},d(t){t&&h(n),J(e,t)}}}const y=60;function et(s,n,r){let o=[{pos:{x:y,y},parent:{x:y,y}}];K(()=>a(o[0]));function e(t,l){if(l<0)return!1;const i=Math.random()*2*Math.PI,c=220-Math.random()*120,f=t.pos.x+Math.cos(i)*c,u=t.pos.y+Math.sin(i)*c;if(f<y||u<y||f>innerWidth-y||u>innerHeight-y)return e(t,l-1);for(const d of o)if((d.pos.x-f)**2+(d.pos.y-u)**2<y**2||S({x:f,y:u},y,d.pos,d.parent)||X({x:f,y:u},t.pos,d.pos,d.parent)||d!=t&&S(d.pos,y,{x:f,y:u},t.pos))return e(t,l-1);const p={pos:{x:f,y:u},parent:t.pos,fill:Math.random()<.1};return r(0,o=[...o,p]),setTimeout(()=>a(p),1e3),!0}function a(t){let l=3*Math.random()+1;for(t==o[o.length-1]&&(l=100);e(t,l)||o.length<3;);}return[o]}class st extends E{constructor(n){super(),V(this,n,et,tt,q,{})}}export{st as default};
